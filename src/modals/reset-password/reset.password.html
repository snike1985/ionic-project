<form class="main-modal main-form full-page"
      [formGroup]="passwordForm"
      (ngSubmit)="submitPasswordForm()">

    <ion-header>

        <ion-toolbar>

            <ion-buttons start>
                <button ion-button
                        type="button"
                        color="primary"
                        icon-only
                        (click)="closeModal()">
                    <ion-icon name="md-close"></ion-icon>
                </button>
            </ion-buttons>

            <ion-title>
                Reset Password
            </ion-title>

        </ion-toolbar>

    </ion-header>

    <ion-content padding *ngIf="isLink" [@VisibilityChanged]>

        <div class="change-code">

            <!--main-modal__title-->
            <h3 class="main-modal__title">Set up your new password</h3>
            <!--/main-modal__title-->

            <fieldset class="change-code__inner" [class.load]="isLoad">

                <ion-label stacked>Password</ion-label>

                <jb-password [control]="passwordForm.controls['password']"
                             [(isLeast)]="isLeast"></jb-password>

            </fieldset>

        </div>

    </ion-content>

    <!--main-modal__centered-->
    <div class="main-modal__centered" padding *ngIf="isSendLink" [@VisibilityChanged]>

        <!--main-modal__title-->
        <h3 class="main-modal__title main-modal__title_centered">
            We will send you a password reset link to your email address:
            <strong>
                someuser@gmail.com
            </strong>
        </h3>
        <!--/main-modal__title-->

    </div>
    <!--/main-modal__centered-->

    <ion-footer>

        <div class="footer__wrap">

            <button ion-button block
                    *ngIf="isLink"
                    [class.spinner]="isLoad"
                    [disabled]="!isLeast">
                Save New Password
            </button>

            <button ion-button block
                    *ngIf="isSendLink"
                    type="button"
                    (click)="sendLink()">
                Send Me the Link
            </button>

        </div>

    </ion-footer>

</form>

<!--success-msg-->
<div class="success-msg full-page" *ngIf="isSendedLink" [@VisibilityChanged]>

    <ion-content>

        <!--success-msg__centered-->
        <div class="success-msg__centered">

            <!--success-msg__icon-->
            <div class="success-msg__icon">
                <img width="128" height="128" src="../assets/icon/email-send.svg" alt="">
            </div>
            <!--/success-msg__icon-->

            <!--success-msg__title-->
            <h2 class="success-msg__title">
                We Sent You A Reset<br/>
                Password Link
            </h2>
            <!--/success-msg__title-->

            <!--success-msg__text-->
            <p class="success-msg__text">
                Please check your email
                <strong>someuser@gmail.com</strong>
            </p>
            <!--/success-msg__text-->

        </div>
        <!--/success-msg__centered-->

    </ion-content>

    <ion-footer>

        <div class="footer__wrap">

            <button ion-button block
                    (click)="closeModal()"
                    type="button">
                Got it
            </button>

        </div>

    </ion-footer>

</div>
<!--/success-msg-->




